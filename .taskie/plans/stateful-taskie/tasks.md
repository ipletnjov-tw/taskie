| Id | Status | Priority | Description | Test strategy |
|----|--------|----------|-------------|---------------|
| 1 | pending | high | Test infrastructure: shared helpers, mock claude CLI, test runner & Makefile updates | Self-testing: verify helpers load, mock claude responds correctly, test runner discovers and executes new test files |
| 2 | pending | high | Unified stop hook — validation migration: create `stop-hook.sh` with existing validation rules ported from `validate-ground-rules.sh`, add state.json validation (rule 8), update hook registration | Test suite 1 (17 tests): all existing validation tests pass against the new hook, plus 4 new state.json validation tests |
| 3 | pending | high | Unified stop hook — auto-review logic: state detection, `claude` CLI invocation, verdict extraction, state transitions, model alternation, block message templates, atomic writes | Test suites 2-5 (51 tests): auto-review triggers, state transition correctness, CLI flag verification, block message content |
| 4 | pending | high | Action file changes — planning actions: update `new-plan.md`, `continue-plan.md`, `create-tasks.md` with state.json read/write instructions | Manual verification: run each action and verify state.json is written correctly; edge case tests in suite 6 |
| 5 | pending | high | Action file changes — task & review actions: update `next-task.md`, `next-task-tdd.md`, `complete-task.md`, `complete-task-tdd.md`, `continue-task.md`, and all review/post-review actions with state.json instructions | Manual verification: run each action and verify state.json transitions; integration tests in suite 6 |
| 6 | pending | medium | Ground rules, Codex CLI updates, and edge case tests: update `ground-rules.md` with state.json documentation, update Codex prompts (`taskie-new-plan.md`, `taskie-continue-plan.md`), write test suite 6 | Test suite 6 (12 tests): edge cases & integration; manual verification of ground-rules and Codex prompts |
